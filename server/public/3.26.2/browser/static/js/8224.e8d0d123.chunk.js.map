{"version":3,"file":"static/js/8224.e8d0d123.chunk.js","mappings":"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","sources":["../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js/object/define-property.js","../../../node_modules/.pnpm/@accedo+xdk-device-freeview-html5-contrib@4.0.7_567d038adb0a2ca2afc20b8bd2695c13/node_modules/@accedo/xdk-device-freeview-html5-contrib/esm/player/HTML5Player.js","../javascript/esm|/Users/adambons/Documents/workspace/itv/fe-core/node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js"],"sourcesContent":["module.exports = require(\"core-js-pure/stable/instance/filter\");","module.exports = require(\"core-js-pure/stable/object/define-properties\");","module.exports = require(\"core-js-pure/stable/object/define-property\");","module.exports = require(\"core-js-pure/stable/object/get-own-property-descriptor\");","module.exports = require(\"core-js-pure/stable/object/get-own-property-descriptors\");","module.exports = require(\"core-js-pure/stable/object/get-own-property-symbols\");","module.exports = require(\"core-js-pure/stable/object/keys\");","module.exports = require(\"core-js-pure/features/object/define-property\");","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Device Package - Freeview HTML5 (@accedo/xdk-device-freeview-html5-contrib) 4.0.7\n* \n*******************************************************************************/\nimport _Object$defineProperty from\"@babel/runtime-corejs3/core-js-stable/object/define-property\";import _Object$defineProperties from\"@babel/runtime-corejs3/core-js-stable/object/define-properties\";import _Object$getOwnPropertyDescriptors from\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\";import _forEachInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/for-each\";import _Object$getOwnPropertyDescriptor from\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\";import _filterInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/filter\";import _Object$getOwnPropertySymbols from\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\";import _Object$keys from\"@babel/runtime-corejs3/core-js-stable/object/keys\";import _includesInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/includes\";import _bindInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/bind\";import _defineProperty from\"@babel/runtime-corejs3/helpers/esm/defineProperty\";import _objectWithoutProperties from\"@babel/runtime-corejs3/helpers/esm/objectWithoutProperties\";import _Map from\"@babel/runtime-corejs3/core-js-stable/map\";function ownKeys(e,t){var r=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);t&&(o=_filterInstanceProperty(o).call(o,(function(t){return _Object$getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,o=null!=arguments[t]?arguments[t]:{};if(t%2)_forEachInstanceProperty(r=ownKeys(Object(o),!0)).call(r,(function(t){_defineProperty(e,t,o[t])}));else if(_Object$getOwnPropertyDescriptors)_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(o));else{var i;_forEachInstanceProperty(i=ownKeys(Object(o))).call(i,(function(t){_Object$defineProperty(e,t,_Object$getOwnPropertyDescriptor(o,t))}))}}return e}import logger from\"@accedo/xdk-log\";import{klass,error,HTML5Player as HTML5BasePlayer,util,promise,Environment,MediaConstants,MediaExtensionConstants,PlayerConstants,PlaybackErrorConstants}from\"@accedo/xdk-core\";const{PROTOCOL:{PROGRESSIVE:PROGRESSIVE,SMOOTH_STREAMING:SMOOTH_STREAMING,DASH:DASH},DRM:{PLAYREADY:PLAYREADY}}=MediaConstants,{DRM:DRM_EXTENSION}=MediaExtensionConstants.TYPE,{stringifyWithoutDom:stringifyWithoutDom,isUndefined:isUndefined,delay:delay}=util,{IllegalArgument:IllegalArgument,UnsupportedOperation:UnsupportedOperation}=error,isPositiveNumber=e=>!isUndefined(e)&&e>=0,{info:info,debug:debug,logError:logError}=logger({logTag:\"[freeview/player/HTML5Player]\"}),{EVENT:{ERROR:ERROR}}=PlayerConstants,{ERROR:{NETWORK:{FILE:FILE,FAILED:NETWORK_FAILED},RENDER:{ABORTED:ABORTED,DECODE:DECODE,UNSUPPORTED:UNSUPPORTED,FAILED:RENDER_FAILED}}}=PlaybackErrorConstants,ERROR_MAP=new _Map([[MediaError.MEDIA_ERR_ABORTED,ABORTED],[MediaError.MEDIA_ERR_NETWORK,NETWORK_FAILED],[MediaError.MEDIA_ERR_DECODE,DECODE],[MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,UNSUPPORTED]]),HTML5Player=klass.create(HTML5BasePlayer,{SINGLE_PLAYER_ONLY:!0,PRELOADABLE:!1},{__drm:null,__url:\"\",__seekTimeForRetry:0,__hasRetriedSeek:!1,__mediaOption:null,__playReadyDrmURL:null,__lastPlayReadyDrmURL:null,__protocol:null,__drmAgent:null,__doLoadPromise:null,async load(e,t={}){info(`load: ${e}, ${stringifyWithoutDom(t)}`);const r=this._loadCommon(e,t),{ok:o,drm:i}=r,s=_objectWithoutProperties(r,[\"ok\",\"drm\"]);if(!o)return!1;i===PLAYREADY?await this._loadPlayReady(s):this._loadNonPlayReady(s)},_loadCommon(e,t){var r;if(!this._prepared)return{ok:!1};this.__url=e,this.__mediaOption=t,this.__protocol=null,this.stop(),this.__resetPlayerSource(),this.__resetPlayreadyAttr(),null===(r=this._playerObject)||void 0===r||r.load();const{protocol:o,parentNode:i,drm:s=null,drmURL:a=\"\"}=t;return this.__protocol=o,this.__drm=s,i&&this._preparePlayerObject(i),{ok:!0,drm:s,mediaURL:e,option:t,drmURL:a}},dispatchCustomLoadEvent(){info(\"load complete - dispatching custom load event\"),Environment.singleton().dispatchEvent(\"media:custom:loaded\")},_onError(e){if(this._isEnded())return;const{networkState:t,NETWORK_NO_SOURCE:r,error:{code:o}={}}=(null==e?void 0:e.srcElement)||this._playerObject||{},i=t===r,s=i?FILE:ERROR_MAP.get(o)||RENDER_FAILED;i?this._hide():this._doStop();const a=_objectSpread(_objectSpread({},s),{},{original:e});logError(`error: ${a.description}`),this.dispatchEvent(ERROR,a)},_loadNonPlayReady({mediaURL:e,option:t}){debug(\"DRM !== PlayReady, doLoad can be done immediately.\"),this._doLoad(e,t)},async _loadPlayReady({mediaURL:e,option:t,drmURL:r}){debug(\"DRM === PlayReady, load DRM Agent before doLoad.\"),this.__playReadyDrmURL=r,await this.__loadDRM(e,t,r),this.dispatchCustomLoadEvent()},_doLoad(e,t){debug(\"doLoad\"),this.__setMediaURL(e,t),this.dispatchCustomLoadEvent()},__setMediaURL(e,t){debug(\"__setMediaURL\");const{_playerObject:r,_onError:o}=this;let i=this.__getTypeValue(t),s=r.querySelector(\"source\");s||(s=document.createElement(\"source\"),s.addEventListener(\"error\",_bindInstanceProperty(o).call(o,this)),null==r||r.appendChild(s)),s.setAttribute(\"src\",e),this.__protocol===DASH?i=\"application/dash+xml\":this.__protocol!==PROGRESSIVE||i||(i=\"video/mp4\"),s.setAttribute(\"type\",i),null==r||r.load(),this._hide()},__getTypeValue(e={}){const{protocol:t,drm:r}=e;debug(`getting MIME for protocol: ${t}, drm: ${r}`);let o=this._getMimeType(e);return debug(`MIME Type: ${o}`),o},__loadDRM(e,t){info(`__loadDRM: ${e}, ${stringifyWithoutDom(t)}`);const{__doLoadPromise:r}=this;return r?(debug(\"Already loading, return the same promise.\"),r):(this.__doLoadPromise=(async()=>{const{drm:e}=t,{drm:r=[]}=this.getCapabilities();if(!_includesInstanceProperty(r).call(r,e))throw new IllegalArgument(`DRM ${e} is not supported.`);return(await this._getDrmAgent(e)).prepare(t,this)})().catch((e=>logError(e))).finally((()=>{debug(\"Clearing __doLoadPromise\"),this.__doLoadPromise=null})),this.__doLoadPromise)},async _getDrmAgent(e){const{__drmAgent:t,__drmType:r}=this;if(t&&r===e)return info(\"Reuse existing DRM agent.\"),t;info(\"Create new DRM agent.\"),this.__drmType=e||null,this.__drmAgent=null;const{_extensionManager:o}=this;if(!(null==o?void 0:o.isExtensionSupported(DRM_EXTENSION)))throw new UnsupportedOperation(\"DRM extension is not defined properly.\");this._hide();const i=await o.getExtension(DRM_EXTENSION),s=await i.createDRMAgent(e);return this.__drmAgent=s,s},_attemptPlay(e){if(debug(`_attemptPlay ${e}`),this._seekTime=e,this.__seekTimeForRetry=e,this.__hasRetriedSeek=!1,1!==this.getPlaybackSpeed()&&this._setSpeed(1),this._isReady()&&(!isUndefined(r=e)&&r>=0)){var t;const e=()=>{var t;if(!this.__hasRetriedSeek&&this.__seekTimeForRetry>0&&0===this.getCurrentTime())return this._seekTime=this.__seekTimeForRetry,debug(`Initial resume failed, retrying with stored seek time ${this._seekTime}`),delay(.5).done((()=>{this._performInitialSeek()})),void(this.__hasRetriedSeek=!0);null===(t=this._playerObject)||void 0===t||t.removeEventListener(\"seeked\",e),this._doPlay(),this.__seekTimeForRetry=null};return null===(t=this._playerObject)||void 0===t||t.addEventListener(\"seeked\",e),this._performInitialSeek(),!0}var r;return this._doPlay(),!0},play(e){var t,r;debug(`play ${e}`);const{__drm:o,__lastPlayReadyDrmURL:i,__playReadyDrmURL:s,__drmAgent:a,__url:n,_onError:l,_playerObject:d}=this;if(this._isEnded())return debug(\"Replay after playhead reach the end.\"),this.reloadAndPlay(e),!0;const _=_bindInstanceProperty(t=this._attemptPlay).call(t,this),c=this.__getPlayAction(e,_);return o!==PLAYREADY?(debug(\"Not PlayReady, calling playAction immediately.\"),c()):i===s?(debug(\"__lastPlayReadyDrmURL === __playReadyDrmURL\"),c()):(this.__lastPlayReadyDrmURL=s,!a||n&&(null==d||null===(r=d.querySelector(\"source\"))||void 0===r?void 0:r.src)===n?(debug(\"do not need to load drm\"),c()):(debug(\"Send PlayReady license request.\"),info(\"play the video with drm and then send licenseRequest\"),void this.__drmSendLicense().then((()=>{var e;return c(),debug(\"Forcing play state\"),null===(e=this._playerObject)||void 0===e||e.play(),!0})).fail(l)))},reloadAndPlay(e){const{__url:t,__mediaOption:r}=this;(async()=>{await this.load(t,r),debug(`reloadAndPlay ${e}`),this.play(e)})()},__getPlayAction:(e,t)=>(debug(\"__getPlayAction\"),()=>t(e)),__drmSendLicense(){return promise.promise(((e,t)=>{const{__drmAgent:r,_playerObject:o,__url:i,__mediaOption:s}=this,a=()=>{null==o||o.removeEventListener(\"loadedmetadata\",a),e()};return r.sendLicense(i,s).then((()=>{null==o||o.addEventListener(\"loadedmetadata\",a),this.__setMediaURL(i,s)})).fail(t)}))},getCapabilities:()=>({protocol:[PROGRESSIVE,SMOOTH_STREAMING,DASH],drm:[PLAYREADY]}),__resetPlayreadyAttr(){this.__lastPlayReadyDrmURL=null,this.__playReadyDrmURL=null,this.__drm=null},__resetPlayerSource(){var e;const t=null===(e=this._playerObject)||void 0===e?void 0:e.querySelector(\"source\");var r;t&&(t.removeEventListener(\"error\",this._onError),t.setAttribute(\"src\",null),null===(r=this._playerObject)||void 0===r||r.removeChild(t))},reset(){var e,t;this._prepared&&(this.__resetPlayerSource(),this.__resetPlayreadyAttr(),null===(e=this._playerObject)||void 0===e||e.removeEventListener(\"error\",this.onError),null===(t=this._playerObject)||void 0===t||t.load(),this.__url=\"\",this.__mediaOption=null,this.__protocol=null,this.__drmAgent=null,this.__doLoadPromise=null,this._super())},getParentNode(){return this._parentNode},doRestore(e={}){return promise.toXDK((async()=>{const{option:t,url:r}=e,{_prepared:o,__doLoadPromise:i}=this;if(t&&r){if(o||this.prepare(t),!i){const e=this.getExtensionManager();await(null==e?void 0:e.prepare(this,t))}this.load(r,t)}return this._show(),!1})())}});export default HTML5Player;","import _Object$defineProperty from \"@babel/runtime-corejs3/core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"names":["module","exports","ownKeys","e","t","r","_Object$keys","_Object$getOwnPropertySymbols","o","_filterInstanceProperty","call","_Object$getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","_forEachInstanceProperty","Object","_defineProperty","_Object$getOwnPropertyDescriptors","_Object$defineProperties","i","_Object$defineProperty","MediaConstants","PROGRESSIVE","SMOOTH_STREAMING","DASH","PLAYREADY","DRM_EXTENSION","MediaExtensionConstants","stringifyWithoutDom","util","isUndefined","delay","IllegalArgument","error","UnsupportedOperation","logger","logTag","info","debug","logError","ERROR","PlayerConstants","PlaybackErrorConstants","NETWORK","FILE","NETWORK_FAILED","FAILED","RENDER","ABORTED","DECODE","UNSUPPORTED","RENDER_FAILED","ERROR_MAP","_Map","MediaError","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","HTML5Player","klass","HTML5BasePlayer","SINGLE_PLAYER_ONLY","PRELOADABLE","__drm","__url","__seekTimeForRetry","__hasRetriedSeek","__mediaOption","__playReadyDrmURL","__lastPlayReadyDrmURL","__protocol","__drmAgent","__doLoadPromise","load","_loadCommon","ok","drm","s","_objectWithoutProperties","_loadPlayReady","_loadNonPlayReady","this","_prepared","stop","__resetPlayerSource","__resetPlayreadyAttr","_playerObject","protocol","parentNode","drmURL","a","_preparePlayerObject","mediaURL","option","dispatchCustomLoadEvent","Environment","dispatchEvent","_onError","_isEnded","srcElement","networkState","NETWORK_NO_SOURCE","code","get","_hide","_doStop","original","description","_doLoad","__loadDRM","__setMediaURL","__getTypeValue","querySelector","document","createElement","addEventListener","_bindInstanceProperty","appendChild","setAttribute","_getMimeType","getCapabilities","_includesInstanceProperty","_getDrmAgent","prepare","__drmType","_extensionManager","isExtensionSupported","getExtension","createDRMAgent","_attemptPlay","_seekTime","getPlaybackSpeed","_setSpeed","_isReady","getCurrentTime","done","_performInitialSeek","removeEventListener","_doPlay","play","n","l","d","reloadAndPlay","_","c","__getPlayAction","src","__drmSendLicense","then","fail","promise","sendLicense","removeChild","reset","onError","_super","getParentNode","_parentNode","doRestore","url","getExtensionManager","_show","obj","key","value","configurable","writable"],"sourceRoot":""}