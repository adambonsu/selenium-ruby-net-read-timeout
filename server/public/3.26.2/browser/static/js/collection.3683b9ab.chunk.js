"use strict";(self.webpackChunk_itv_fe_cassandra=self.webpackChunk_itv_fe_cassandra||[]).push([[8137],{99492:function(e,r,t){t.d(r,{Z:function(){return D}});var n=t(64628),o=t(89626),i=t.n(o),c=t(98830),a=t(20625),l=t(22194),s=t(23640),u=t(12642),d=t.n(u),p=t(30287),m=t.n(p),f=t(64344),g=t(49356),b=t(5073),y=t(16363),v=["britboxPromoTile","hubplusEntertainmentPromoTile","hubplusFullSeriesPromoTile"],O=["title","special","film"],w=function(e){var r=e.row,t=e.rowIndex,n=e.firstId,o=e.onBackTo;return r.map((function(e,r){var i,c,a=e.encodedEpisodeId,l=e.encodedProgrammeId,s=e.promoUrl,u=e.type,d=u||"programme";return v.includes(u)?(c="".concat(e.type,"-").concat(t,"-").concat(r),i=s):O.includes(u)?(c="episode-".concat(t,"-").concat(a.letterA),i="/programmes/".concat(l.underscore,"/").concat(a.letterA)):(c="programme-".concat(t,"-").concat(l.letterA),i="/programmes/".concat(l.underscore)),{programme:e,tileIndex:r,link:i,contentType:d,tileId:c,backTo:t+r>0?n:o}}))};function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){T(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function T(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var I=function(e){var r=e.id,t=e.row,o=e.rowIndex,i=e.firstId,a=e.onBackTo,l=e.writeToDOM,s=(0,y.UO)(),u=s.categoryName,d=s.collectionId,p=(0,b.nP)().trackCptEvent,m=w({row:t,rowIndex:o,firstId:i,onBackTo:a});return n.createElement(c.default,{key:t[0].encodedEpisodeId,id:r,gridChild:!0,optimiseRenders:!0,className:"TileGrid__row",writeToDOM:l},l&&m.map((function(e,r){var t=e.programme,i=e.tileIndex,c=e.link,a=e.tileId,l=e.backTo;return n.createElement(g.Z,{className:"TileGrid__cell",key:a,id:a,programme:k(k({},t),{},{imageUrl:t.image}),type:t.tileType,href:c,backTo:l,onClick:function(){return function(e){var r=e.programme,t=e.position,n=null!==u&&void 0!==u?u:d,i={listing_id:"".concat(u?"categories":"collections","_programmes_grid_").concat(n),position:4*o+t+1,programme_id:null===r||void 0===r?void 0:r.programmeId,item_type:(null===r||void 0===r?void 0:r.type)||"programme"};p(i)}({programme:t,position:r})},position:i,throttle:{horizontal:0,vertical:350}})})))};I.defaultProps={writeToDOM:!0},I.propTypes={id:i().string.isRequired,row:i().arrayOf(i().shape({encodedEpisodeId:i().shape({letterA:i().string,underscore:i().string})})).isRequired,onBackTo:i().func.isRequired,rowIndex:i().number.isRequired,firstId:i().string.isRequired,writeToDOM:i().bool};var P=I;function E(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var C=function(e){var r,t=(0,n.useRef)(),o=(0,f.Z)().handleBackTo,i=m()(4)(e),c=e[0]&&(r=e[0],{episode:"episode-0-".concat(r.encodedEpisodeId.letterA),programme:"programme-0-".concat(r.encodedProgrammeId.letterA)}[function(e){switch(e.type){case"episode":case"title":return"episode";default:return"programme"}}(r)]);return{pageContentRef:t,gridData:(0,n.useMemo)((function(){return E(i?Object.values(i).map((function(e,r){return{GridComponent:P,props:{id:"gridRow".concat(r+1),rowIndex:r,row:e,key:e[0].encodedProgrammeId.letterA,firstId:c,rowType:"slider",onBackTo:o,height:281}}})):[]).filter(Boolean)}),[c,o,i])}},_=function(e){var r=e.id,t=e.programmes,o=e.stealFocus,i=e.onClick,u=e.className,p=C(t),m=p.pageContentRef,f=p.gridData;return n.createElement(c.default,{grid:!0,id:r,className:d()(s.grid,u,"TileGrid"),orientation:"column",backToMemory:!0,stealFocus:o,jumpToLastFocus:!0,onClick:i},n.createElement(l.bI,{ref:m},f&&n.createElement(a.Z,{gridData:f})))};_.propTypes={id:i().string,programmes:i().arrayOf(i().shape({encodedEpisodeId:i().shape({letterA:i().string,underscore:i().string})})).isRequired,stealFocus:i().bool,onClick:i().func,className:i().string},_.defaultProps={id:"TileGrid",stealFocus:!1,onClick:null,className:""};var D=_},64344:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(16363),o=t(9673),i=t(53357);var c=function(){var e=(0,o.Z)(),r=(0,n.k6)(),t=(0,i.d)().toggleExitDialog;return{handleBackTo:function(){e.get("fromDeepLink")?t():r.goBack()}}}},87770:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(64628),o=t(99492),i=t(25931),c=t(46632),a=t(12642),l=t.n(a),s=t(23640),u=t(5972);function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){m(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f=function(e){var r=e.collection,t=(0,c.x7)(),a=(0,c.Lz)(),u=r.headingTitle,d=r.shows,m=t.programme;(0,n.useEffect)((function(){d.length>0&&!m&&a({programme:d[0],contentType:"common"})}),[m,a,d]);var f=d.map((function(e){return p(p({},e),{},{tileType:"grid-standard"})}));return n.createElement("div",{className:l()("CollectionContent",s.gridWrapper)},n.createElement(i.ZP,{element:"h4",className:"CollectionContent__title"},function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).length,t="".concat(r," ").concat(r>1?"items":"item"," available");return"".concat(e," - ").concat(t)}(u,d)),n.createElement(o.Z,{programmes:f,stealFocus:!0,className:"CollectionContent__tileGrid"}),n.createElement("div",{className:"CollectionContent__gradient"}))};f.propTypes={collection:u._d.isRequired};var g=f},33526:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=t(64628),o=t(16363),i=t(5073),c=t(6964),a=t(33028),l=t(75787),s=t(87686),u=t(64839),d=t(33782),p=t(27403),m=function(e){var r=(0,n.useContext)(p.ZP).getIsPremiumUser,t=(0,u.Z)({cerberusMethod:d.IH.contentInventory.collections.getCollection,args:[{collectionId:e,isPremiumUser:r()}]}),o=t.result,i=t.loading,c=t.networkError;return i?{loading:!0}:{collection:o,loading:!1,networkError:c}},f=t(87770),g=function(){var e=(0,o.TH)().pathname,r=(0,o.UO)().collectionId,t=m(r),u=t.collection,d=t.loading,p=t.networkError,g="".concat(i.c6.COLLECTION,".").concat(r);return d?n.createElement(a.default,null):p||!u?n.createElement(l.Z,null):n.createElement(c.default,{id:"collection",trackingPageType:i.c7.PROGRAMME_LIST,trackingPageId:g,trackingRoute:e},n.createElement(s.wF,null,n.createElement(f.Z,{collection:u})))}}}]);
//# sourceMappingURL=collection.3683b9ab.chunk.js.map