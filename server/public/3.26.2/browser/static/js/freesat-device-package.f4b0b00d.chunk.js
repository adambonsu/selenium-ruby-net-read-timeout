/*! For license information please see freesat-device-package.f4b0b00d.chunk.js.LICENSE.txt */
(self.webpackChunk_itv_fe_cassandra=self.webpackChunk_itv_fe_cassandra||[]).push([[8561],{37054:function(e,t,r){e.exports=r(92558)},78432:function(e,t,r){e.exports=r(50847)},71393:function(e,t,r){e.exports=r(52746)},39882:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(22934),o=r(32149),i=r(8113),a=r(61724),c=n.util.clone,u=n.keyMap.KEYBOARD_KEY,s=n.keyMap.KEYBOARD_CHAR,l=n.klass.create(n.BrowserTVKey,{KEY_SUBTITLE:{id:"device:vkey:subtitle"},KEY_SEARCH:{id:"device:vkey:search"}},{_bubbleNativeKeyEvent:!1,_preventDefaultKeyAction:!0,_keyHandler:function(e){n.environment.SYSTEM.KEY_BLOCKED||this._super(e)},init:function(){var e=c(u,!0),t=c(s,!0);e.VKey[461]=n.vKey.BACK,e.VKey[403]=n.vKey.RED,e.VKey[404]=n.vKey.GREEN,e.VKey[405]=n.vKey.YELLOW,e.VKey[406]=n.vKey.BLUE,e.VKey[417]=n.vKey.FF,e.VKey[412]=n.vKey.RW,e.VKey[415]=n.vKey.PLAY,e.VKey[19]=n.vKey.PAUSE,e.VKey[413]=n.vKey.STOP,e.VKey[463]=n.vKey.PLAY_PAUSE,e.VKey[104]=this.constructor.KEY_SEARCH,e.VKey[460]=this.constructor.KEY_SUBTITLE,e.VKey[424]=n.vKey.PREV,e.VKey[425]=n.vKey.NEXT,this._initKeyMapping(e,t),this.initKeyHandling()}}),f=(0,o.Z)({logTag:"[freesat/System]"}),y=(f.logError,f.debug,n.util.stringifyWithoutDom,n.klass.create(i.Z,{},{init:function(){this._network=new a.Z,this._key=new l,this._mouse=new n.MouseOnOff}}));function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new V(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var l={};function f(){}function y(){}function p(){}var d={};c(d,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,o)&&(d=m);var K=p.prototype=f.prototype=Object.create(d);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var u=s(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==h(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function V(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return y.prototype=p,c(K,"constructor",p),c(p,"constructor",y),y.displayName=c(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,a,"GeneratorFunction")),e.prototype=Object.create(K),e},e.awrap=function(e){return{__await:e}},w(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(K),c(K,a,"Generator"),c(K,o,(function(){return this})),c(K,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function p(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}var d=(0,o.Z)({logTag:"[freesat/DevicePackage]"}).debug,g=n.klass.create(n.AbstractDevicePackage,{},{setup:function(){var e,t=this;return(e=v().mark((function e(){var r,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d("Setting up DevicePackage."),d("init Storage Manager."),t._storageManager=n.StorageManager.singleton(),d("init Device Extension Manager."),t._extensionManager=n.DeviceExtensionManager.singleton(),d("init System."),r=new y,t._system=r,d("Return system.isReady"),o=t._system&&t._storageManager&&t._extensionManager,e.abrupt("return",Promise.resolve(!!o));case 11:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,c,"next",e)}function c(e){p(i,n,o,a,c,"throw",e)}a(void 0)}))})()}}),m=g},61724:function(e,t,r){"use strict";var n=r(22934),o=n.klass.create(n.AbstractNetwork,{},{getConnectionStatus:function(){var e;return n.promise.resolve((null===(e=navigator)||void 0===e?void 0:e.onLine)||!1)}});t.Z=o},8113:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(78432),o=r.n(n),i=r(71393),a=r.n(i),c=r(32149),u=r(22934),s=r(61724),l=r(27858),f=u.util.clone,y=l.keyMap.KEYBOARD_KEY,h=l.keyMap.KEYBOARD_CHAR,v=(0,c.Z)({logTag:"[freeview/TVKey]"}).logError,p=u.klass.create(u.BrowserTVKey,{KEY_SUBTITLE:{id:"device:vkey:subtitle"},KEY_SEARCH:{id:"device:vkey:search"}},{_preventDefaultKeyAction:!0,initKeyHandling:function(){try{var e=window.oipfObjectFactory.createApplicationManagerObject().getOwnerApplication(document);1,2,4,8,16,32,64,128,256,1024,e.privateData.keyset.setValue(1535),e.privateData.keyset.value=1535,e.privateData.keyset.supportsPointer=!0,e.show()}catch(e){v("[initKeyHandling]",e.message)}this._super()},init:function(){var e=f(y,!0),t=f(h,!0);e.VKey[461]=l.vKey.BACK,e.VKey[403]=l.vKey.RED,e.VKey[404]=l.vKey.GREEN,e.VKey[405]=l.vKey.YELLOW,e.VKey[406]=l.vKey.BLUE,e.VKey[417]=l.vKey.FF,e.VKey[412]=l.vKey.RW,e.VKey[415]=l.vKey.PLAY,e.VKey[19]=l.vKey.PAUSE,e.VKey[413]=l.vKey.STOP,e.VKey[463]=l.vKey.PLAY_PAUSE,e.VKey[179]=l.vKey.PLAY_PAUSE,e.VKey[104]=this.constructor.KEY_SEARCH,e.VKey[460]=this.constructor.KEY_SUBTITLE,e.VKey[424]=l.vKey.PREV,e.VKey[425]=l.vKey.NEXT,this._initKeyMapping(e,t),this.initKeyHandling()}}),d=(0,c.Z)({logTag:"[freeview/System]"}),g=d.logError,m=d.debug,K=u.util.stringifyWithoutDom,w=u.klass.create(u.HTML5System,{},{init:function(){this._super(),this._network=new s.Z,this._key=new p,this._mouse=new u.MouseOnOff},exit:function(){try{m("****closing the app*****"),window.close()}catch(e){g("Fail to exit: ".concat(e))}},getDeviceResolution:function(){return{height:window.innerHeight||document.body.clientHeight,width:window.innerWidth||document.body.clientWidth}},_getDeviceInfo:function(){if(this._deviceInfo)return this._deviceInfo;var e,t,r,n,i,c=u.core.userAgent||"",s=c.match(/HbbTV\/\d+\.\d+\.\d+\s?\((.*?)\)/);if(c&&s&&s[1]){var l,f,y,h,v=s[1].toLowerCase().split(";");e=a()(l=v[1]).call(l),t=a()(f=v[2]).call(f),r=a()(y=v[3]).call(y),i=a()(h=v[4]).call(h),n=-1!==o()(i).call(i,"tv")?u.SystemConstants.DEVICE_TYPE.TV:u.SystemConstants.DEVICE_TYPE.STB}else m("[_getDeviceInfo] no information available for the device");return this._deviceInfo={manufacturer:e||"",model:t||"",firmware:r||"",deviceType:n||"",deviceVersion:i||""},m("[freeview-device-info] ".concat(K(this._deviceInfo))),this._deviceInfo},getManufacturer:function(){return this._getDeviceInfo().manufacturer},getModel:function(){return this._getDeviceInfo().model},getFirmwareVersion:function(){return this._getDeviceInfo().firmware},getDeviceType:function(){return this._getDeviceInfo().deviceType},getDeviceVersion:function(){return this._getDeviceInfo().deviceVersion}})},32149:function(e,t,r){"use strict";var n=r(37054),o=r.n(n),i=r(20846),a=0,c=1,u=2,s=3,l=4,f=function(){};t.Z=function(e){var t,r,n,y,h,v=e.logTag,p=void 0===v?"[xdk-log]":v,d=e.transport,g=i.default.get("logging",{}),m=g.transport,K=g.level,w=void 0===K?2:K,E=d||m||console,_=w<=l?o()(t=E.error).call(t,E,p):f;return{error:_,logError:_,warn:w<=s?o()(r=E.warn).call(r,E,p):f,log:w<=u?o()(n=E.log).call(n,E,p):f,info:w<=c?o()(y=E.info).call(y,E,p):f,debug:w<=a?o()(h=E.debug).call(h,E,p):f}}}}]);
//# sourceMappingURL=freesat-device-package.f4b0b00d.chunk.js.map