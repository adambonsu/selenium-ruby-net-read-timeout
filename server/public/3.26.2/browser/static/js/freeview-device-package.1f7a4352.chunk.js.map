{"version":3,"file":"static/js/freeview-device-package.1f7a4352.chunk.js","mappings":"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","sources":["../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js","../../../node_modules/.pnpm/@accedo+xdk-device-freeview-html5-contrib@4.0.7_567d038adb0a2ca2afc20b8bd2695c13/node_modules/@accedo/xdk-device-freeview-html5-contrib/esm/DevicePackage.js","../../../node_modules/.pnpm/@accedo+xdk-device-freeview-html5-contrib@4.0.7_567d038adb0a2ca2afc20b8bd2695c13/node_modules/@accedo/xdk-device-freeview-html5-contrib/esm/Network.js","../../../node_modules/.pnpm/@accedo+xdk-device-freeview-html5-contrib@4.0.7_567d038adb0a2ca2afc20b8bd2695c13/node_modules/@accedo/xdk-device-freeview-html5-contrib/esm/TVKey.js","../../../node_modules/.pnpm/@accedo+xdk-device-freeview-html5-contrib@4.0.7_567d038adb0a2ca2afc20b8bd2695c13/node_modules/@accedo/xdk-device-freeview-html5-contrib/esm/System.js","../../../node_modules/.pnpm/@accedo+xdk-log@4.0.4_@accedo+xdk-config@4.0.2/node_modules/@accedo/xdk-log/esm/log.js"],"sourcesContent":["module.exports = require(\"core-js-pure/stable/instance/bind\");","module.exports = require(\"core-js-pure/stable/instance/index-of\");","module.exports = require(\"core-js-pure/stable/instance/trim\");","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Device Package - Freeview HTML5 (@accedo/xdk-device-freeview-html5-contrib) 4.0.7\n* \n*******************************************************************************/\nimport{klass,AbstractDevicePackage,StorageManager,DeviceExtensionManager,promise}from\"@accedo/xdk-core\";import logger from\"@accedo/xdk-log\";import System from\"./System\";const{debug:debug}=logger({logTag:\"[freeview/DevicePackage]\"}),DevicePackage=klass.create(AbstractDevicePackage,{},{async setup(){debug(\"Setting up DevicePackage.\"),debug(\"init Storage Manager.\"),this._storageManager=StorageManager.singleton(),debug(\"init Device Extension Manager.\"),this._extensionManager=DeviceExtensionManager.singleton(),debug(\"init System.\");const e=new System;this._system=e,debug(\"Return system.isReady\");const a=this._system&&this._storageManager&&this._extensionManager;return promise.resolve(!!a)}});export default DevicePackage;","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Device Package - Freeview HTML5 (@accedo/xdk-device-freeview-html5-contrib) 4.0.7\n* \n*******************************************************************************/\nimport{klass,AbstractNetwork,promise}from\"@accedo/xdk-core\";const Network=klass.create(AbstractNetwork,{},{getConnectionStatus(){var o;return promise.resolve((null===(o=navigator)||void 0===o?void 0:o.onLine)||!1)}});export default Network;","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Device Package - Freeview HTML5 (@accedo/xdk-device-freeview-html5-contrib) 4.0.7\n* \n*******************************************************************************/\nimport logger from\"@accedo/xdk-log\";import{klass,util,BrowserTVKey}from\"@accedo/xdk-core\";import{keyMap,vKey}from\"@accedo/xdk-virtual-key\";const{clone:clone}=util,{KEYBOARD_KEY:KEYBOARD_KEY,KEYBOARD_CHAR:KEYBOARD_CHAR}=keyMap,{logError:logError}=logger({logTag:\"[freeview/TVKey]\"}),TVKey=klass.create(BrowserTVKey,{KEY_SUBTITLE:{id:\"device:vkey:subtitle\"},KEY_SEARCH:{id:\"device:vkey:search\"}},{_preventDefaultKeyAction:!0,initKeyHandling(){try{const e=window.oipfObjectFactory.createApplicationManagerObject().getOwnerApplication(document);let K=0;K|=1,K|=2,K|=4,K|=8,K|=16,K|=32,K|=64,K|=128,K|=256,K|=1024,e.privateData.keyset.setValue(K),e.privateData.keyset.value=K,e.privateData.keyset.supportsPointer=!0,e.show()}catch(e){logError(\"[initKeyHandling]\",e.message)}this._super()},init(){const e=clone(KEYBOARD_KEY,!0),K=clone(KEYBOARD_CHAR,!0);e.VKey[461]=vKey.BACK,e.VKey[403]=vKey.RED,e.VKey[404]=vKey.GREEN,e.VKey[405]=vKey.YELLOW,e.VKey[406]=vKey.BLUE,e.VKey[417]=vKey.FF,e.VKey[412]=vKey.RW,e.VKey[415]=vKey.PLAY,e.VKey[19]=vKey.PAUSE,e.VKey[413]=vKey.STOP,e.VKey[463]=vKey.PLAY_PAUSE,e.VKey[179]=vKey.PLAY_PAUSE,e.VKey[104]=this.constructor.KEY_SEARCH,e.VKey[460]=this.constructor.KEY_SUBTITLE,e.VKey[424]=vKey.PREV,e.VKey[425]=vKey.NEXT,this._initKeyMapping(e,K),this.initKeyHandling()}});export default TVKey;","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Device Package - Freeview HTML5 (@accedo/xdk-device-freeview-html5-contrib) 4.0.7\n* \n*******************************************************************************/\nimport _indexOfInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/index-of\";import _trimInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/trim\";import logger from\"@accedo/xdk-log\";import{klass,core,MouseOnOff,HTML5System,SystemConstants,util}from\"@accedo/xdk-core\";import Network from\"./Network\";import TVKey from\"./TVKey\";const{logError:logError,debug:debug}=logger({logTag:\"[freeview/System]\"}),{stringifyWithoutDom:stringifyWithoutDom}=util,System=klass.create(HTML5System,{},{init(){this._super(),this._network=new Network,this._key=new TVKey,this._mouse=new MouseOnOff},exit(){try{debug(\"****closing the app*****\"),window.close()}catch(e){logError(`Fail to exit: ${e}`)}},getDeviceResolution:()=>({height:window.innerHeight||document.body.clientHeight,width:window.innerWidth||document.body.clientWidth}),_getDeviceInfo(){if(this._deviceInfo)return this._deviceInfo;const e=core.userAgent||\"\";let t,r,i,o,n;const s=e.match(/HbbTV\\/\\d+\\.\\d+\\.\\d+\\s?\\((.*?)\\)/);if(e&&s&&s[1]){var c,a,m,f;const e=s[1].toLowerCase().split(\";\");t=_trimInstanceProperty(c=e[1]).call(c),r=_trimInstanceProperty(a=e[2]).call(a),i=_trimInstanceProperty(m=e[3]).call(m),n=_trimInstanceProperty(f=e[4]).call(f),o=-1!==_indexOfInstanceProperty(n).call(n,\"tv\")?SystemConstants.DEVICE_TYPE.TV:SystemConstants.DEVICE_TYPE.STB}else debug(\"[_getDeviceInfo] no information available for the device\");return this._deviceInfo={manufacturer:t||\"\",model:r||\"\",firmware:i||\"\",deviceType:o||\"\",deviceVersion:n||\"\"},debug(`[freeview-device-info] ${stringifyWithoutDom(this._deviceInfo)}`),this._deviceInfo},getManufacturer(){return this._getDeviceInfo().manufacturer},getModel(){return this._getDeviceInfo().model},getFirmwareVersion(){return this._getDeviceInfo().firmware},getDeviceType(){return this._getDeviceInfo().deviceType},getDeviceVersion(){return this._getDeviceInfo().deviceVersion}});export default System;","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Log (@accedo/xdk-log) 4.0.4\n* \n*******************************************************************************/\nimport _bindInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/bind\";import config from\"@accedo/xdk-config\";const DEFAULT_LOG_TAG=\"[xdk-log]\",LOG_LEVELS={ALL:-1,DEBUG:0,INFO:1,LOG:2,WARN:3,ERROR:4},{DEBUG:DEBUG,INFO:INFO,LOG:LOG,WARN:WARN,ERROR:ERROR}=LOG_LEVELS,noop=()=>{},createLogger=({logTag:o=\"[xdk-log]\",transport:r})=>{var n,e,t,a,c;const{transport:l,level:g=2}=config.get(\"logging\",{}),L=r||l||console,p=g<=ERROR?_bindInstanceProperty(n=L.error).call(n,L,o):noop;return{error:p,logError:p,warn:g<=WARN?_bindInstanceProperty(e=L.warn).call(e,L,o):noop,log:g<=LOG?_bindInstanceProperty(t=L.log).call(t,L,o):noop,info:g<=INFO?_bindInstanceProperty(a=L.info).call(a,L,o):noop,debug:g<=DEBUG?_bindInstanceProperty(c=L.debug).call(c,L,o):noop}};export{LOG_LEVELS};export default createLogger;"],"names":["module","exports","debug","logger","logTag","DevicePackage","klass","AbstractDevicePackage","setup","_storageManager","StorageManager","_extensionManager","DeviceExtensionManager","e","System","_system","a","promise","Network","AbstractNetwork","getConnectionStatus","o","navigator","onLine","clone","util","KEYBOARD_KEY","keyMap","KEYBOARD_CHAR","logError","BrowserTVKey","KEY_SUBTITLE","id","KEY_SEARCH","_preventDefaultKeyAction","initKeyHandling","window","oipfObjectFactory","createApplicationManagerObject","getOwnerApplication","document","privateData","keyset","setValue","K","value","supportsPointer","show","message","this","_super","init","VKey","vKey","constructor","_initKeyMapping","stringifyWithoutDom","HTML5System","_network","_key","TVKey","_mouse","MouseOnOff","exit","close","getDeviceResolution","height","innerHeight","body","clientHeight","width","innerWidth","clientWidth","_getDeviceInfo","_deviceInfo","t","r","i","n","core","s","match","c","m","f","toLowerCase","split","_trimInstanceProperty","call","_indexOfInstanceProperty","SystemConstants","manufacturer","model","firmware","deviceType","deviceVersion","getManufacturer","getModel","getFirmwareVersion","getDeviceType","getDeviceVersion","DEBUG","INFO","LOG","WARN","ERROR","noop","transport","config","l","level","g","L","console","p","_bindInstanceProperty","error","warn","log","info"],"sourceRoot":""}