/*! For license information please see xdk-HTML5PlayerAudioTrack.a615d564.chunk.js.LICENSE.txt */
(self.webpackChunk_itv_fe_cassandra=self.webpackChunk_itv_fe_cassandra||[]).push([[4860],{17309:function(t,r,e){"use strict";var n=e(62970);e(32408)(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e(11584)),o=n(e(60920)),i=n(e(50229)),u=n(e(55454)),c=n(e(94873)),l=n(e(44023)),s=n(e(90222)),f=n(e(33707)),d=n(e(35332)),h=n(e(76522)),p=(0,l.default)({logTag:"[core/device/player/extension/HTML5PlayerAudioTrack]"}).logError,v=s.default.create([d.default],{LANGCODE:"LANGCODE"},{__player:null,__playerObject:null,__trackArr:[],__currentId:null,__isReady:function(){var t=this.__playerObject;return(null==t?void 0:t.readyState)&&(null==t?void 0:t.audioTracks)},prepare:function(t){t?(this.__player=t,this.__playerObject=this.__player._getPlayerObject(),this.__playerObject||p("Fail to prepare HTML5PlayerAudioTrack without the player object")):p("Fail to prepare HTML5PlayerAudioTrack without the XDK player")},getAudioTracks:function(){var t=this;return(0,c.default)(a.default.mark((function r(){var e,n,c;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.__playerObject,n=function(){var t;return(0,u.default)(t=(0,i.default)((null==e?void 0:e.audioTracks)||[])).call(t,(function(t,r,e){var n=r.id,a=r.enabled,o=r.label,i=r.language;return a&&(t.currentTrackId=e),t.tracks.push({id:e,name:n,label:o,language:i}),t}),{tracks:[],currentTrackId:void 0})},c=function(){var r=n(),e=r.tracks,a=r.currentTrackId;t.__trackArr=e,t.__currentId=a},!t.__isReady()){r.next=6;break}return c(),r.abrupt("return",t.__trackArr);case 6:return r.abrupt("return",new o.default((function(r){e.addEventListener("loadeddata",(function n(){e.removeEventListener("loadeddata",n),c(),r(t.__trackArr)}))})));case 7:case"end":return r.stop()}}),r)})))()},setAudioTrack:function(t){var r=this;return(0,c.default)(a.default.mark((function e(){var n,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.__isReady()){e.next=2;break}throw new f.default.IllegalState("The video is not ready yet.");case 2:if(n=r.__currentId,o=r.__trackArr.length,i=r.__playerObject.audioTracks,!(t>=o)){e.next=5;break}throw new f.default.IllegalArgument("The track is not available");case 5:return t!==n&&(i[n].enabled=!1,i[t].enabled=!0,r.__currentId=t),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))()},getCurrentAudioTrack:function(){var t=this;return(0,c.default)(a.default.mark((function r(){return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.__isReady()){r.next=2;break}throw new f.default.IllegalState("The video is not ready yet.");case 2:return r.abrupt("return",t.__trackArr[t.__currentId]);case 3:case"end":return r.stop()}}),r)})))()},getAudioTrackAttribute:function(t,r,e){var n=this;return(0,c.default)(a.default.mark((function o(){var i,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.__isReady()){a.next=2;break}throw new f.default.IllegalState("The video is not ready yet.");case 2:if(i=n.__trackArr.length,u=n.__playerObject.audioTracks,!(t>=i)){a.next=5;break}throw new f.default.IllegalArgument("The track is not available");case 5:if("LANGCODE"!==r){a.next=9;break}return a.abrupt("return",u[t].language);case 9:if(h.default.isUndefined(e)){a.next=11;break}return a.abrupt("return",e);case 11:throw new f.default.IllegalArgument("No available attribute");case 12:case"end":return a.stop()}}),o)})))()}});r.default=v},35332:function(t,r,e){"use strict";var n=e(62970);e(32408)(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e(31518)).default.create("AudioTrackStrategy",{prepare:["player","audioTrackOption"],getAudioTracks:[],setAudioTrack:["id"],getAudioTrackAttribute:["id","attribute","defaultValue"],getCurrentAudioTrack:[]});r.default=a},91076:function(t,r,e){var n=e(53269);t.exports=n},1256:function(t,r,e){var n=e(95273);t.exports=n},82082:function(t,r,e){var n=e(98882);t.exports=n},51330:function(t,r,e){t.exports=e(23824)},47874:function(t,r,e){t.exports=e(33325)},90858:function(t,r,e){t.exports=e(85363)},23824:function(t,r,e){var n=e(91076);t.exports=n},33325:function(t,r,e){var n=e(1256);t.exports=n},85363:function(t,r,e){var n=e(82082);e(93175),e(84849),e(69927),e(21380),t.exports=n},93175:function(t,r,e){e(51424)},84849:function(t,r,e){e(17709)},21380:function(t,r,e){e(95428)},69927:function(t,r,e){"use strict";var n=e(39705),a=e(55615),o=e(28563);n({target:"Promise",stat:!0,forced:!0},{try:function(t){var r=a.f(this),e=o(t);return(e.error?r.reject:r.resolve)(e.value),r.promise}})},60375:function(t,r,e){t.exports=e(51330)},99023:function(t,r,e){t.exports=e(47874)},6076:function(t,r,e){t.exports=e(90858)},94873:function(t,r,e){var n=e(6076);function a(t,r,e,a,o,i,u){try{var c=t[i](u),l=c.value}catch(s){return void e(s)}c.done?r(l):n.resolve(l).then(a,o)}t.exports=function(t){return function(){var r=this,e=arguments;return new n((function(n,o){var i=t.apply(r,e);function u(t){a(i,n,o,u,c,"next",t)}function c(t){a(i,n,o,u,c,"throw",t)}u(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},74010:function(t,r,e){var n=e(76).default,a=e(45311),o=e(35950),i=e(41571),u=e(95738),c=e(60375),l=e(6559),s=e(6076),f=e(99023),d=e(95205);function h(){"use strict";t.exports=h=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},e=Object.prototype,p=e.hasOwnProperty,v="function"==typeof a?a:{},y=v.iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",_=v.toStringTag||"@@toStringTag";function w(t,r,e){return o(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{w({},"")}catch(C){w=function(t,r,e){return t[r]=e}}function x(t,r,e,n){var a=r&&r.prototype instanceof b?r:b,o=i(a.prototype),u=new F(n||[]);return o._invoke=function(t,r,e){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return R()}for(e.method=a,e.arg=o;;){var i=e.delegate;if(i){var u=N(i,e);if(u){if(u===k)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var c=m(t,r,e);if("normal"===c.type){if(n=e.done?"completed":"suspendedYield",c.arg===k)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(n="completed",e.method="throw",e.arg=c.arg)}}}(t,e,u),o}function m(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(C){return{type:"throw",arg:C}}}r.wrap=x;var k={};function b(){}function L(){}function T(){}var A={};w(A,y,(function(){return this}));var E=u&&u(u(M([])));E&&E!==e&&p.call(E,y)&&(A=E);var I=T.prototype=b.prototype=i(A);function j(t){var r;c(r=["next","throw","return"]).call(r,(function(r){w(t,r,(function(t){return this._invoke(r,t)}))}))}function O(t,r){function e(a,o,i,u){var c=m(t[a],t,o);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==n(s)&&p.call(s,"__await")?r.resolve(s.__await).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):r.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return e("throw",t,i,u)}))}u(c.arg)}var a;this._invoke=function(t,n){function o(){return new r((function(r,a){e(t,n,r,a)}))}return a=a?a.then(o,o):o()}}function N(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,N(t,r),"throw"===r.method))return k;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var n=m(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,k;var a=n.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,k):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,k)}function G(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function S(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function F(t){this.tryEntries=[{tryLoc:"root"}],c(t).call(t,G,this),this.reset(!0)}function M(t){if(t){var r=t[y];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(p.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return L.prototype=T,w(I,"constructor",T),w(T,"constructor",L),L.displayName=w(T,_,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===L||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return l?l(t,T):(t.__proto__=T,w(t,_,"GeneratorFunction")),t.prototype=i(I),t},r.awrap=function(t){return{__await:t}},j(O.prototype),w(O.prototype,g,(function(){return this})),r.AsyncIterator=O,r.async=function(t,e,n,a,o){void 0===o&&(o=s);var i=new O(x(t,e,n,a),o);return r.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(I),w(I,_,"Generator"),w(I,y,(function(){return this})),w(I,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=[];for(var e in t)r.push(e);return f(r).call(r),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=M,F.prototype={constructor:F,reset:function(t){var r;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,c(r=this.tryEntries).call(r,S),!t)for(var e in this)"t"===e.charAt(0)&&p.call(this,e)&&!isNaN(+d(e).call(e,1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,n){return o.type="throw",o.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var i=p.call(a,"catchLoc"),u=p.call(a,"finallyLoc");if(i&&u){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&p.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=r,a?(this.method="next",this.next=a.finallyLoc,k):this.complete(o)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),k},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),S(e),k}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var a=n.arg;S(e)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:M(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),k}},r}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports},11584:function(t,r,e){var n=e(74010)();t.exports=n;try{regeneratorRuntime=n}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}}]);
//# sourceMappingURL=xdk-HTML5PlayerAudioTrack.a615d564.chunk.js.map