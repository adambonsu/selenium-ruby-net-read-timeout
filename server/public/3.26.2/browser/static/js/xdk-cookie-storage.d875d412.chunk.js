/*! For license information please see xdk-cookie-storage.d875d412.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_itv_fe_cassandra=self.webpackChunk_itv_fe_cassandra||[]).push([[6984],{35729:function(e,t,o){var i=o(62970);o(32408)(t,"__esModule",{value:!0}),t.default=void 0;var s=i(o(12682)),a=i(o(94692)),n=i(o(20846)),u=i(o(44023)),_=i(o(90222)),l=i(o(74069)),c=i(o(33707)),d=i(o(69490)),f=i(o(76522)),r=(0,u.default)({logTag:"[core/device/storage/Cookie]"}),k=r.warn,h=r.debug,C=_.default.create([d.default],{},{__tempCookies:null,__uniquePrefix:null,init:function(){var e=n.default.get(n.default.KEY.DEVICE_PACKAGES_INFO_KEY);if(!e)throw new c.default.IllegalState("[Cookie] Cannot create Cookie storage as devicePackageInfo is not available for this device.");if(!e.cookieName)throw new c.default.IllegalArgument("[Cookie] Cookie storage will not function without the property 'cookieName' being defined for each device under the 'device-details' section in xdk.config.js.");this.__uniquePrefix=e.cookieName},set:function(e,t){h("Using cookies storage."),this.__tempCookies||this.__getCookies(),this.__tempCookies[e]=t,this.__setCookies()},get:function(e){var t;return this.__tempCookies||this.__getCookies(),this.__tempCookies&&this.__tempCookies[e]&&(t=this.__tempCookies[e],!f.default.isUndefined(t))?t:null},unset:function(e){this.__tempCookies||this.__getCookies(),this.__tempCookies&&!f.default.isUndefined(this.__tempCookies[e])&&(this.__tempCookies[e]=null,delete this.__tempCookies[e],this.__setCookies())},_doClear:function(){this.__tempCookies={},this.__setCookies()},__getCookies:function(){var e,t,o,i;if(l.default.isBrowser()&&f.default.isString(document.cookie))if(document.cookie){for(o=0,i=(e=document.cookie.split(";")).length;o<i;o++)if(t=f.default.strip(e[o]),(0,a.default)(f.default).call(f.default,t,"".concat(this.__uniquePrefix,"="))&&(t=t.substring("".concat(this.__uniquePrefix,"=").length)))try{return void(this.__tempCookies=f.default.parse(decodeURIComponent(t)))}catch(e){k("unable to load the cookies")}this.__tempCookies={}}else this.__tempCookies={};else k("document.cookie doesn't exist and unable to get the cookies")},__setCookies:function(){var e,t,o,i,a,n;if(!this.__tempCookies)return k("cookie Object is undefined and unable to set into the cookies"),!1;f.default.isEmpty(this.__tempCookies)?a="; expires= -1":((i=new Date).setTime(i.getTime()+31536e6),a="; expires=".concat(i.toGMTString())),n=(0,s.default)(e=(0,s.default)(t=(0,s.default)(o="".concat(this.__uniquePrefix,"=")).call(o,encodeURIComponent(f.default.stringify(this.__tempCookies)))).call(t,a,"; domain=")).call(e,location.hostname,"; path=/"),document.cookie=n},clear:function(){this._doClear()}});t.default=C},69490:function(e,t,o){var i=o(62970);o(32408)(t,"__esModule",{value:!0}),t.default=void 0;var s=i(o(31518)).default.create("Storage",{set:["key","value"],get:["key"],unset:["key"],clear:[]});t.default=s}}]);
//# sourceMappingURL=xdk-cookie-storage.d875d412.chunk.js.map