{"version":3,"file":"static/js/xdk-cookie-storage.d875d412.chunk.js","mappings":"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","sources":["../../../node_modules/.pnpm/@accedo+xdk-core@4.0.9_@accedo+xdk-config@4.0.2/node_modules/@accedo/xdk-core/cjs/device/storage/Cookie.js","../../../node_modules/.pnpm/@accedo+xdk-core@4.0.9_@accedo+xdk-config@4.0.2/node_modules/@accedo/xdk-core/cjs/interfaces/Storage.js"],"sourcesContent":["/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Core (@accedo/xdk-core) 4.0.9\n* \n*******************************************************************************/\n\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\"),_Object$defineProperty=require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");_Object$defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _concat=_interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\")),_startsWith=_interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/starts-with\")),_xdkConfig=_interopRequireDefault(require(\"@accedo/xdk-config\")),_xdkLog=_interopRequireDefault(require(\"@accedo/xdk-log\")),_klass=_interopRequireDefault(require(\"../../base/klass\")),_core=_interopRequireDefault(require(\"../../base/core\")),_error=_interopRequireDefault(require(\"../../base/error\")),_Storage=_interopRequireDefault(require(\"../../interfaces/Storage\")),_util=_interopRequireDefault(require(\"../../base/util\")),_logger=(0,_xdkLog.default)({logTag:\"[core/device/storage/Cookie]\"}),warn=_logger.warn,debug=_logger.debug,_default=_klass.default.create([_Storage.default],{},{__tempCookies:null,__uniquePrefix:null,init:function(){var e=_xdkConfig.default.get(_xdkConfig.default.KEY.DEVICE_PACKAGES_INFO_KEY);if(!e)throw new _error.default.IllegalState(\"[Cookie] Cannot create Cookie storage as devicePackageInfo is not available for this device.\");if(!e.cookieName)throw new _error.default.IllegalArgument(\"[Cookie] Cookie storage will not function without the property 'cookieName' being defined for each device under the 'device-details' section in xdk.config.js.\");this.__uniquePrefix=e.cookieName},set:function(e,t){debug(\"Using cookies storage.\"),this.__tempCookies||this.__getCookies(),this.__tempCookies[e]=t,this.__setCookies()},get:function(e){var t;return this.__tempCookies||this.__getCookies(),this.__tempCookies&&this.__tempCookies[e]&&(t=this.__tempCookies[e],!_util.default.isUndefined(t))?t:null},unset:function(e){this.__tempCookies||this.__getCookies(),this.__tempCookies&&!_util.default.isUndefined(this.__tempCookies[e])&&(this.__tempCookies[e]=null,delete this.__tempCookies[e],this.__setCookies())},_doClear:function(){this.__tempCookies={},this.__setCookies()},__getCookies:function(){var e,t,i,o;if(_core.default.isBrowser()&&_util.default.isString(document.cookie))if(document.cookie){for(i=0,o=(e=document.cookie.split(\";\")).length;i<o;i++)if(t=_util.default.strip(e[i]),(0,_startsWith.default)(_util.default).call(_util.default,t,\"\".concat(this.__uniquePrefix,\"=\"))&&(t=t.substring(\"\".concat(this.__uniquePrefix,\"=\").length)))try{return void(this.__tempCookies=_util.default.parse(decodeURIComponent(t)))}catch(e){warn(\"unable to load the cookies\")}this.__tempCookies={}}else this.__tempCookies={};else warn(\"document.cookie doesn't exist and unable to get the cookies\")},__setCookies:function(){var e,t,i,o,r,s;if(!this.__tempCookies)return warn(\"cookie Object is undefined and unable to set into the cookies\"),!1;_util.default.isEmpty(this.__tempCookies)?r=\"; expires= -1\":((o=new Date).setTime(o.getTime()+31536e6),r=\"; expires=\".concat(o.toGMTString())),s=(0,_concat.default)(e=(0,_concat.default)(t=(0,_concat.default)(i=\"\".concat(this.__uniquePrefix,\"=\")).call(i,encodeURIComponent(_util.default.stringify(this.__tempCookies)))).call(t,r,\"; domain=\")).call(e,location.hostname,\"; path=/\"),document.cookie=s},clear:function(){this._doClear()}});exports.default=_default;","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Core (@accedo/xdk-core) 4.0.9\n* \n*******************************************************************************/\n\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\"),_Object$defineProperty=require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");_Object$defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _Interface=_interopRequireDefault(require(\"../base/Interface\")),_default=_Interface.default.create(\"Storage\",{set:[\"key\",\"value\"],get:[\"key\"],unset:[\"key\"],clear:[]});exports.default=_default;"],"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","_concat","_startsWith","_xdkConfig","_xdkLog","_klass","_core","_error","_Storage","_util","_logger","logTag","warn","debug","_default","create","__tempCookies","__uniquePrefix","init","e","get","KEY","DEVICE_PACKAGES_INFO_KEY","IllegalState","cookieName","IllegalArgument","this","set","t","__getCookies","__setCookies","isUndefined","unset","_doClear","i","o","isBrowser","isString","document","cookie","split","length","strip","call","concat","substring","parse","decodeURIComponent","r","s","isEmpty","Date","setTime","getTime","toGMTString","encodeURIComponent","stringify","location","hostname","clear"],"sourceRoot":""}