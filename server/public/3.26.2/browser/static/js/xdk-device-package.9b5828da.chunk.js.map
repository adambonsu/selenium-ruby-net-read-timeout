{"version":3,"file":"static/js/xdk-device-package.9b5828da.chunk.js","mappings":"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","sources":["../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js","../../../node_modules/.pnpm/@babel+runtime-corejs3@7.16.8/node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js","xdk/devices/workstation/TVKey.js","xdk/devices/workstation/System.js","xdk/devices/workstation/DevicePackage.js","../../../node_modules/.pnpm/@accedo+xdk-device-workstation@4.0.4_567d038adb0a2ca2afc20b8bd2695c13/node_modules/@accedo/xdk-device-workstation/cjs/Network.js","../../../node_modules/.pnpm/@accedo+xdk-log@4.0.4_@accedo+xdk-config@4.0.2/node_modules/@accedo/xdk-log/esm/log.js"],"sourcesContent":["module.exports = require(\"core-js-pure/stable/instance/bind\");","module.exports = require(\"core-js-pure/stable/instance/index-of\");","module.exports = require(\"core-js-pure/stable/object/define-property\");","/* eslint-disable no-underscore-dangle */\nimport config from '@accedo/xdk-config';\n\nimport { BrowserTVKey, klass, util, keyMap, vKey } from '@accedo/xdk-core';\n\nconst TVKey = klass.create(\n    BrowserTVKey,\n    {},\n    {\n        init() {\n            // https://css-tricks.com/snippets/javascript/javascript-keycodes/\n            const packageInfo = config.get(config.KEY.DEVICE_PACKAGES_INFO_KEY, {});\n            const keyMapping = util.clone(keyMap.KEYBOARD_KEY, true);\n            const charMapping = util.clone(keyMap.KEYBOARD_CHAR, true);\n            keyMapping.VKey[118] = vKey.RED;\n            keyMapping.VKey[119] = vKey.GREEN;\n            keyMapping.VKey[120] = vKey.YELLOW;\n            keyMapping.VKey[121] = vKey.BLUE;\n            keyMapping.VKey[8] = vKey.EXIT;\n            keyMapping.VKey[27] = vKey.BACK;\n            charMapping.VKey[13] = vKey.OK;\n            this._preventDefaultKeyAction = !!packageInfo['prevent-default-key-action'];\n            this._initKeyMapping(keyMapping, charMapping);\n            this.initKeyHandling();\n        },\n        _keyHandler(event) {\n            this._super(event);\n            if (event.key === 'ArrowLeft' || event.key === 'ArrowRight' || event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n                event.preventDefault();\n            }\n        }\n    }\n);\nexport default TVKey;\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable import/no-extraneous-dependencies */\n\nimport _indexOfInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/index-of';\nimport _bindInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/bind';\n\nimport config from '@accedo/xdk-config';\nimport logger from '@accedo/xdk-log';\n\nimport { core, klass, util, MouseOnOff, HTML5System, Environment, SystemConstants as SYSTEM } from '@accedo/xdk-core';\n\nimport Network from '@accedo/xdk-device-workstation/cjs/Network';\nimport TVKey from './TVKey';\n\nconst { warn } = logger({\n    logTag: '[workstation/System]'\n});\n\nconst sEnv = Environment.singleton();\n\nconst System = klass.create(\n    HTML5System,\n    {},\n    {\n        __resizable: false,\n        __resolution1080p: false,\n\n        init() {\n            this._super();\n\n            this._network = new Network();\n            this._key = new TVKey();\n            this._mouse = new MouseOnOff();\n            const configDetails = config.get(config.KEY.DEVICE_PACKAGES_INFO_KEY, {});\n            this.__resizable = !!configDetails.resize;\n            this.__resolution1080p = !!configDetails['1080p'];\n\n            if (this.__resizable) {\n                this.__addResizeListener();\n            }\n        },\n\n        __addResizeListener() {\n            if (!core.root.addEventListener) {\n                warn('Cannot add resize event listener on non-browser.');\n                return;\n            }\n\n            core.root.addEventListener(\n                'resize',\n                _bindInstanceProperty(util).call(\n                    util,\n                    () => {\n                        sEnv.dispatchEvent(sEnv.SYSTEM.RESIZE, this.getDeviceResolution());\n                    },\n                    this\n                )\n            );\n        },\n\n        getFirmwareVersion() {\n            let name = this.getDeviceType();\n\n            let version = this._super();\n\n            const ua = core.userAgent.toLowerCase();\n\n            try {\n                if (_indexOfInstanceProperty(ua).call(ua, 'chrome') !== -1) {\n                    name = 'Chrome';\n                    [, version] = /chrome\\/([\\d.]+)/.exec(ua);\n                } else if (_indexOfInstanceProperty(ua).call(ua, 'firefox') !== -1) {\n                    name = 'Firefox';\n                    [, version] = /firefox\\/([\\d.]+)/.exec(ua);\n                } else if (_indexOfInstanceProperty(ua).call(ua, 'opera') !== -1) {\n                    name = 'opera';\n                    [, version] = /version\\/([\\d.]+)/.exec(ua);\n                } else if (_indexOfInstanceProperty(ua).call(ua, 'safari') !== -1) {\n                    name = 'safari';\n                    [, version] = /version\\/([\\d.]+)/.exec(ua);\n                }\n            } catch (ex) {\n                warn(`Unable to determine the firmware. ${ex}`);\n            }\n\n            return `${name}/${version}`;\n        },\n\n        getDeviceType() {\n            return SYSTEM.DEVICE_TYPE.WORKSTATION;\n        },\n\n        getDeviceResolution() {\n            let window;\n\n            if (this.__resizable) {\n                window = core.root;\n                return {\n                    width: window.innerWidth !== null ? window.innerWidth : document.body !== null ? document.body.clientWidth : null,\n                    height: window.innerHeight !== null ? window.innerHeight : document.body !== null ? document.body.clientHeight : null\n                };\n            }\n\n            if (this.__resolution1080p) {\n                return {\n                    width: 1920,\n                    height: 1080\n                };\n            }\n\n            return {\n                width: 1280,\n                height: 720\n            };\n        },\n\n        isSSLSupported() {\n            return true;\n        },\n\n        isMouseSupported() {\n            return true;\n        },\n\n        isHardwareKeyboardSupported() {\n            return true;\n        },\n\n        isSOPSupported() {\n            return true;\n        },\n        exit() {\n            // eslint-disable-next-line no-console\n            console.warn('Exit not supported');\n        },\n        deinit() {\n            this.__resizable = false;\n            this.__resolution1080p = false;\n\n            this._super();\n        }\n    }\n);\nexport default System;\n","/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable no-underscore-dangle */\nimport { klass, AbstractDevicePackage, StorageManager, DeviceExtensionManager } from '@accedo/xdk-core';\n\nimport System from './System';\n\nconst DevicePackage = klass.create(\n    AbstractDevicePackage,\n    {},\n    {\n        async setup() {\n            this._storageManager = StorageManager.singleton();\n            this._extensionManager = DeviceExtensionManager.singleton();\n            this._system = new System();\n        }\n    }\n);\nexport default DevicePackage;\n","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Device Package - Workstation (@accedo/xdk-device-workstation) 4.0.4\n* \n*******************************************************************************/\n\"use strict\";var _Object$defineProperty=require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");_Object$defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _xdkCore=require(\"@accedo/xdk-core\"),NAVIGATOR_DEFINED=\"undefined\"!=typeof navigator,sEnv=_xdkCore.Environment.singleton(),Network=_xdkCore.klass.create(_xdkCore.AbstractNetwork,{},{_internetPoller:null,init:function(){this._super(),this.__checkNetworkStatus(),this._internetPoller&&this._internetPoller.startPolling()},getConnectionStatus:function(){return _xdkCore.promise.resolve(this._isInternetConnected())},_isInternetConnected:function(){return NAVIGATOR_DEFINED&&navigator.onLine},__checkNetworkStatus:function(){var e=this;this._internetPoller=new _xdkCore.ConnectionPoller((function(t){return t(e._isInternetConnected())}),(function(e){sEnv.dispatchEvent(sEnv.SYSTEM.NETWORK_STATUS_CHANGED,e)}),{networkStatus:this._isInternetConnected()})},deinit:function(){var e=this._internetPoller;e&&(e.stopPolling(),this._internetPoller=null),this._super()}}),_default=Network;exports.default=_default;","/*******************************************************************************\n* @license\n* Copyright (c) 2016 - present Accedo. All Rights Reserved.\n* \n* This source code, its use, and distribution, is subject to the terms\n* and conditions of the applicable license agreement.\n* \n* Accedo Build XDK Log (@accedo/xdk-log) 4.0.4\n* \n*******************************************************************************/\nimport _bindInstanceProperty from\"@babel/runtime-corejs3/core-js-stable/instance/bind\";import config from\"@accedo/xdk-config\";const DEFAULT_LOG_TAG=\"[xdk-log]\",LOG_LEVELS={ALL:-1,DEBUG:0,INFO:1,LOG:2,WARN:3,ERROR:4},{DEBUG:DEBUG,INFO:INFO,LOG:LOG,WARN:WARN,ERROR:ERROR}=LOG_LEVELS,noop=()=>{},createLogger=({logTag:o=\"[xdk-log]\",transport:r})=>{var n,e,t,a,c;const{transport:l,level:g=2}=config.get(\"logging\",{}),L=r||l||console,p=g<=ERROR?_bindInstanceProperty(n=L.error).call(n,L,o):noop;return{error:p,logError:p,warn:g<=WARN?_bindInstanceProperty(e=L.warn).call(e,L,o):noop,log:g<=LOG?_bindInstanceProperty(t=L.log).call(t,L,o):noop,info:g<=INFO?_bindInstanceProperty(a=L.info).call(a,L,o):noop,debug:g<=DEBUG?_bindInstanceProperty(c=L.debug).call(c,L,o):noop}};export{LOG_LEVELS};export default createLogger;"],"names":["module","exports","klass","BrowserTVKey","init","packageInfo","config","keyMapping","util","keyMap","charMapping","VKey","vKey","this","_preventDefaultKeyAction","_initKeyMapping","initKeyHandling","_keyHandler","event","_super","key","preventDefault","warn","logger","logTag","sEnv","Environment","HTML5System","__resizable","__resolution1080p","_network","Network","_key","TVKey","_mouse","MouseOnOff","configDetails","resize","__addResizeListener","core","_bindInstanceProperty","call","dispatchEvent","SYSTEM","RESIZE","getDeviceResolution","getFirmwareVersion","name","getDeviceType","version","ua","_indexOfInstanceProperty","exec","ex","window","width","innerWidth","document","body","clientWidth","height","innerHeight","clientHeight","isSSLSupported","isMouseSupported","isHardwareKeyboardSupported","isSOPSupported","exit","console","deinit","DevicePackage","AbstractDevicePackage","setup","_storageManager","StorageManager","_extensionManager","DeviceExtensionManager","_system","System","require","_Object$defineProperty","value","_xdkCore","NAVIGATOR_DEFINED","navigator","singleton","_default","create","AbstractNetwork","_internetPoller","__checkNetworkStatus","startPolling","getConnectionStatus","promise","resolve","_isInternetConnected","onLine","e","ConnectionPoller","t","NETWORK_STATUS_CHANGED","networkStatus","stopPolling","DEBUG","INFO","LOG","WARN","ERROR","noop","n","a","c","o","r","transport","l","level","g","L","p","error","logError","log","info","debug"],"sourceRoot":""}